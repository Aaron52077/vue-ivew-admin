(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["g-Video-main"],{1403:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-container"},[i("div",{staticClass:"__cov-video-container",on:{mouseenter:t.mouseEnterVideo,mouseleave:t.mouseLeaveVideo}},[i("video",{staticClass:"__cov-video",class:{"hide-cursor":!t.state.contrlShow},attrs:{poster:t.options.poster}},t._l(t.sources,(function(t,e){return i("source",{key:e,attrs:{src:t.src,type:t.type}})})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.state.contrlShow,expression:"state.contrlShow"}],staticClass:"__cov-contrl-content",attrs:{transition:"fade"}},[i("button",{staticClass:"__cov-contrl-play-btn",on:{click:t.play}},[i("svg",{directives:[{name:"show",rawName:"v-show",value:!t.state.playing,expression:"!state.playing"}],staticClass:"__cov-contrl-play-btn-icon",attrs:{viewBox:"0 0 47 57",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("title",[t._v("播放")]),i("desc",[t._v("Created with Sketch.")]),i("defs"),i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("polygon",{attrs:{id:"Triangle-1",stroke:"#FFFFFF",fill:"#FFFFFF",points:"1 56 1 1 47 28.5"}})])]),i("svg",{directives:[{name:"show",rawName:"v-show",value:t.state.playing,expression:"state.playing"}],staticClass:"__cov-contrl-play-btn-icon",attrs:{viewBox:"0 0 15 22",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("title",[t._v("暂停")]),i("desc",[t._v("Created with Sketch.")]),i("defs",[i("path",{attrs:{d:"M0,0.979149244 L5,0.979149244 L5,22 L0,22 L0,0.979149244 Z M10,0.979149244 L15,0.979149244 L15,22 L10,22 L10,0.979149244 Z",id:"path-1"}}),i("mask",{attrs:{id:"mask-2",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:"15",height:"21.0208508",fill:"white"}},[i("use",{attrs:{"xlink:href":"#path-1"}})])]),i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("use",{attrs:{id:"Combined-Shape",stroke:"#FFFFFF",mask:"url(#mask-2)","stroke-width":"2",fill:"#FFFFFF","xlink:href":"#path-1"}})])])]),i("div",{staticClass:"__cov-contrl-video-slider",on:{click:t.slideClick,mousedown:t.videoMove}},[i("div",{staticClass:"__cov-contrl-video-inner",style:{transform:"translate3d("+t.video.pos.current+"px, 0, 0)"}}),i("div",{staticClass:"__cov-contrl-video-rail"},[i("div",{staticClass:"__cov-contrl-video-rail-inner",style:{transform:"translate3d("+t.video.loaded+"%, 0, 0)"}})])]),i("div",{staticClass:"__cov-contrl-video-time"},[i("span",{staticClass:"__cov-contrl-video-time-text"},[t._v(t._s(t.video.displayTime))])]),i("div",{staticClass:"__cov-contrl-vol-box"},[i("button",{staticClass:"__cov-contrl-play-btn",on:{click:t.volMuted}},[i("svg",{staticClass:"__cov-contrl-vol-btn-icon",attrs:{viewBox:"0 0 41 44",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("title",[t._v("vol")]),i("desc",[t._v("Created with Sketch.")]),i("defs",[i("path",{attrs:{d:"M8.61522369,12 L20,0.615223689 L20,37.3847763 L8.61522369,26 L1.99201702,26 C0.891856397,26 0,25.1029399 0,23.9941413 L0,14.0058587 C0,12.8980535 0.900176167,12 1.99201702,12 L8.61522369,12 L8.61522369,12 Z",id:"cov-vol"}})]),i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"2",fill:"none","fill-rule":"evenodd"}},[i("g",{attrs:{id:"vol",transform:"translate(2.000000, 3.000000)"}},[i("g",{attrs:{id:"cov-vol-icon"}},[i("g",{attrs:{id:"Combined-Shape-Clipped"}},[i("path",{directives:[{name:"show",rawName:"v-show",value:t.volume.percent>1&&!t.volume.muted,expression:"volume.percent > 1 && !volume.muted"}],attrs:{d:"M25,29.5538997 C28.4589093,27.6757536 31.2629093,23.2984641 31.2629093,19.7769499 C31.2629093,16.2554357 28.4589093,11.8781461 25,10",id:"vol-range-2",stroke:"#FFFFFF"}}),i("path",{directives:[{name:"show",rawName:"v-show",value:t.volume.percent>70&&!t.volume.muted,expression:"volume.percent > 70 && !volume.muted"}],attrs:{d:"M28,35.5538997 C33.5816016,32.5231573 38.1063837,25.4595762 38.1063837,19.7769499 C38.1063837,14.0943235 33.5816016,7.03074247 28,4",id:"vol-range-2",stroke:"#FFFFFF"}}),i("mask",{attrs:{id:"mask-2",fill:"white"}},[i("use",{attrs:{"xlink:href":"#cov-vol"}})]),i("use",{attrs:{id:"vol-path",stroke:"#FFFFFF","stroke-width":"3","xlink:href":"#cov-vol"}}),i("g",{attrs:{id:"Combined-Shape",mask:"url(#mask-2)",stroke:"#FFFFFF","stroke-width":"2",fill:"#FFFFFF"}},[i("path",{attrs:{d:"M8.61522369,12 L20,0.615223689 L20,37.3847763 L8.61522369,26 L1.99201702,26 C0.891856397,26 0,25.1029399 0,23.9941413 L0,14.0058587 C0,12.8980535 0.900176167,12 1.99201702,12 L8.61522369,12 L8.61522369,12 Z",id:"cov-vol"}})])])])])])])]),i("div",{staticClass:"__cov-contrl-vol-slider",on:{click:t.volSlideClick,mousedown:t.volMove}},[i("div",{staticClass:"__cov-contrl-vol-inner",style:{transform:"translate3d("+t.volume.pos.current+"px, 0, 0)"}}),i("div",{staticClass:"__cov-contrl-vol-rail"})])]),i("button",{staticClass:"__cov-contrl-play-btn",on:{click:t.fullScreen}},[i("svg",{staticClass:"__cov-contrl-vol-btn-icon",attrs:{viewBox:"0 0 33 33",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("defs"),i("g",{attrs:{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M31.1682064,22 L31.1682064,31.0073537 L22,31.0073537 M22,1 L31.0073537,1 L31.0073537,10.1682064 M1,10.0073537 L1,1 L10.1682064,1 M10.0073537,31.1682064 L1,31.1682064 L1,22",id:"Combined-Shape",stroke:"#FFFFFF","stroke-width":"2"}})])])])])])])},s=[],n=i("ed08"),l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return"x"===e?t.pageX:t.pageY},r=function(t){return t=Math.floor(t),t<10?"0"+t:t+""},a=function(t){var e=0;return e=Math.floor(t/60),t-=60*e,r(e)+":"+r(t)},d={props:{url:{type:String,required:!0},sourcesType:{type:String,default:"mp4"}},data:function(){return{$video:null,sources:[{src:this.url,type:"video/".concat(this.sourcesType)}],options:{autoplay:!1,volume:.6,poster:""},video:{$videoSlider:null,len:0,current:0,loaded:0,moving:!1,displayTime:"00:00",pos:{start:0,width:0,innerWidth:0,current:0}},volume:{$volBox:null,muted:!1,percent:60,moving:!1,pos:{start:0,width:0,innerWidth:0,current:0}},player:{$player:null,pos:null},tmp:{contrlHideTimer:null},state:{contrlShow:!0,vol:.5,currentTime:0,fullScreen:!1,playing:!1}}},mounted:function(){this.init()},beforeDestroy:function(){Object(n["c"])(document,"mousemove",this.mouseMoveAction),Object(n["c"])(document,"mouseup",this.mouseUpAction)},methods:{init:function(){this.$video=this.$el.getElementsByTagName("video")[0],this.initCore(),this.options.autoplay&&this.play(),Object(n["d"])(document,"mousemove",this.mouseMoveAction),Object(n["d"])(document,"mouseup",this.mouseUpAction)},initCore:function(){this.initVol(),this.initVideo(),this.initPlayer();var t=this.options.volume||.9;this.setVol(t)},initPlayer:function(){var t=this.$el.getElementsByClassName("__cov-video-container")[0];this.player.pos=t.getBoundingClientRect(),this.player.$player=t},initVol:function(){var t=this.$el.getElementsByClassName("__cov-contrl-vol-slider")[0],e=t.getElementsByClassName("__cov-contrl-vol-inner")[0];this.volume.$volBox=t,this.volume.pos.innerWidth=e.getBoundingClientRect().width,this.volume.pos.start=t.getBoundingClientRect().left,this.volume.pos.width=t.getBoundingClientRect().width-this.volume.pos.innerWidth},initVideo:function(){var t=this.$el.getElementsByClassName("__cov-contrl-video-slider")[0],e=t.getElementsByClassName("__cov-contrl-video-inner")[0];this.$videoSlider=t,this.video.pos.start=t.getBoundingClientRect().left,this.video.pos.innerWidth=e.getBoundingClientRect().width,this.video.pos.width=t.getBoundingClientRect().width-this.video.pos.innerWidth,this.getTime()},mouseEnterVideo:function(){this.tmp.contrlHideTimer&&(clearTimeout(this.tmp.contrlHideTimer),this.tmp.contrlHideTimer=null),this.state.contrlShow=!0},mouseLeaveVideo:function(){var t=this;this.tmp.contrlHideTimer&&clearTimeout(this.tmp.contrlHideTimer),this.tmp.contrlHideTimer=setTimeout((function(){t.state.contrlShow=!1,t.tmp.contrlHideTimer=null}),2e3)},toggleContrlShow:function(){this.state.contrlShow=!this.state.contrlShow},getTime:function(){this.$video.addEventListener("durationchange",(function(){})),this.$video.addEventListener("progress",(function(){})),this.video.len=this.$video.duration},setVideoByTime:function(t){this.$video.currentTime=Math.floor(t*this.video.len)},play:function(){var t=this;this.state.playing=!this.state.playing,this.$video&&(this.state.playing?(this.$video.play(),this.mouseLeaveVideo(),this.$video.addEventListener("timeupdate",this.timeline),this.$video.addEventListener("ended",(function(){t.state.playing=!1,t.video.pos.current=0,t.$video.currentTime=0}))):this.$video.pause())},timeline:function(){var t=this.$video.currentTime/this.$video.duration;this.video.pos.current=(this.video.pos.width*t).toFixed(3),this.video.displayTime=a(this.$video.duration-this.$video.currentTime)},volMove:function(){this.initVol(),this.volume.moving=!0},videoMove:function(){this.initVideo(),this.video.moving=!0},slideClick:function(t){this.videoSlideMove(t)},volSlideClick:function(t){this.volSlideMove(t)},volMuted:function(){this.$video.muted=!this.$video.muted,this.volume.muted=this.$video.muted},setVol:function(t){this.$video&&(this.volume.pos.current=t*this.volume.pos.width,this.volume.percent=100*t,this.$video.volume=t)},fullScreen:function(){this.state.fullScreen?(this.state.fullScreen=!1,document.webkitCancelFullScreen()):(this.state.fullScreen=!0,this.$video.webkitRequestFullScreen()),setTimeout(this.initVideo,200)},mouseMoveAction:function(t){this.volume.moving&&this.volSlideMove(t),this.video.moving&&this.videoSlideMove(t),this.contrlHider(t)},contrlHider:function(t){var e=l(t,"x"),i=l(t,"y");if(this.player.pos)return e>this.player.pos.left&&e<this.player.pos.left+this.player.pos.width&&i>this.player.pos.top+.6*this.player.pos.height&&i<this.player.pos.top+this.player.pos.height?this.mouseEnterVideo():this.mouseLeaveVideo()},volSlideMove:function(t){var e=l(t)-this.volume.pos.start;e>0&&e<this.volume.pos.width&&this.setVol(e/this.volume.pos.width)},videoSlideMove:function(t){var e=l(t)-this.video.pos.start;e>0&&e<this.video.pos.width&&(this.video.pos.current=e,this.setVideoByTime(e/this.video.pos.width))},mouseUpAction:function(){this.volume.moving=!1,this.video.moving=!1}}},c=d,v=(i("aae5"),i("2877")),h=Object(v["a"])(c,o,s,!1,null,null,null);e["default"]=h.exports},a86a:function(t,e,i){var o=i("babd");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var s=i("499e").default;s("bd7b4b58",o,!0,{sourceMap:!1,shadowMode:!1})},aae5:function(t,e,i){"use strict";i("a86a")},babd:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".video-container{position:relative;max-width:970px;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1}.__cov-video-container{position:relative;width:100%;background-color:#000}.__cov-video{width:100%;height:100%;vertical-align:bottom}.__cov-contrl-content{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;left:0;bottom:0;background-color:rgba(0,0,0,.41);height:2rem;width:100%;z-index:2147483647}.__cov-contrl-play-btn{position:relative;height:100%;background:none;border:none;height:2rem;width:4rem;outline:none;vertical-align:top}.__cov-contrl-play-btn:hover{background-color:hsla(0,0%,100%,.27)}.__cov-contrl-play-btn-icon{position:absolute;height:1rem;width:1rem;top:50%;left:50%;margin-top:-.5rem;margin-left:-.5rem}.__cov-contrl-vol-btn-icon{position:absolute;height:1.1rem;width:1.1rem;top:50%;left:50%;margin-top:-.55rem;margin-left:-.55rem}.__cov-contrl-vol-slider{position:relative;display:inline-block;height:100%;width:6rem;height:2rem;overflow:hidden;-webkit-transition:all .2s ease-in;transition:all .2s ease-in}.__cov-contrl-vol-rail{position:absolute;top:50%;width:6rem;height:.1rem;margin-top:-.05rem;background:#fff}.__cov-contrl-vol-inner{position:absolute;display:inline-block;left:0;top:50%;background:#fff;width:.5rem;height:.5rem;border-radius:50%;margin-top:-.25rem;z-index:2;cursor:pointer}.__cov-contrl-vol-box{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.__cov-contrl-video-slider{position:relative;display:inline-block;height:100%;width:100%;overflow:hidden;margin:0 .5rem;-webkit-transition:all .2s ease-in;transition:all .2s ease-in}.__cov-contrl-video-rail{position:absolute;top:50%;width:100%;height:.1rem;margin-top:-.05rem;background:hsla(0,0%,100%,.5);overflow:hidden}.__cov-contrl-video-rail-inner{position:absolute;top:0;left:0;width:100%;height:.1rem;background:#fff;-webkit-transition:-webkit-transform .2s;transition:-webkit-transform .2s;transition:transform .2s;transition:transform .2s,-webkit-transform .2s}.__cov-contrl-video-inner{position:absolute;display:inline-block;left:0;top:50%;background:#fff;width:.5rem;height:.5rem;border-radius:50%;margin-top:-.25rem;z-index:2;cursor:pointer;-webkit-transition:all 16ms;transition:all 16ms}.__cov-contrl-video-time{padding:0 1rem}.__cov-contrl-video-time-text{color:#fff;line-height:2rem;font-size:.8rem}::-webkit-media-controls,video::-webkit-media-controls{display:none!important}video::-webkit-media-controls-enclosure{display:none!important}.fade-transition{-webkit-transition:opacity .3s ease;transition:opacity .3s ease}.fade-enter{opacity:1}.fade-leave{opacity:0}.hide-cursor{cursor:none}@media (max-width:768px){.container{width:90%}.__cov-contrl-vol-slider{width:3rem}.__cov-contrl-video-time{padding:0 .2rem}.__cov-contrl-vol-box .__cov-contrl-play-btn{width:2rem}}",""])}}]);