(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["g-Map-BMap"],{"10c0":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".tangram-suggestion-main{z-index:1099}",""])},"1f05":function(e,t,a){"use strict";a("29b4")},"29b4":function(e,t,a){var n=a("10c0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("e67aa11a",n,!0,{sourceMap:!1,shadowMode:!1})},"7fbf":function(e,t,a){t=e.exports=a("2350")(!1),t.push([e.i,".mapContainer[data-v-d091d108]{width:100%;height:400px}.gc-map__area[data-v-d091d108]{position:relative}.gc-block__row[data-v-d091d108]{margin:0 0 10px}.map-tip[data-v-d091d108]{position:relative;color:#333;border-radius:3px;border:1px solid #eee;-webkit-box-shadow:1px 2px 4px 0 #eee;box-shadow:1px 2px 4px 0 #eee}.map-tip a[data-v-d091d108]{display:inline-block;position:absolute;border-radius:0 3px 3px 0;right:5px;top:1px;width:28px;text-align:center;line-height:28px;height:28px}.map-tip input[type=text][data-v-d091d108]{height:30px;border:0;padding-left:12px;width:100%;border-radius:3px;outline:none}",""])},89180:function(e,t,a){"use strict";a("f6cc")},b5ce:function(e,t,a){"use strict";a.r(t);var n,i,o,r,s,p,l,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.currentValue.open,expression:"currentValue.open"}]},[a("sModal",{staticClass:"gc-dia-main",attrs:{width:"1000",transfer:""},on:{"on-visible-change":e.handleOpen},model:{value:e.currentValue.open,callback:function(t){e.$set(e.currentValue,"open",t)},expression:"currentValue.open"}},[a("div",{staticClass:"gc-dia-title",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.title||"位置"))]),a("div",{staticClass:"gc-dia-body"},[a("sRow",{staticClass:"gc-block__row",attrs:{gutter:16}},[a("sCol",{attrs:{xs:18,sm:18,lg:18}},[e._v("\n                    当前位置："+e._s(e.map_address||"-")+"\n                ")]),a("sCol",{directives:[{name:"show",rawName:"v-show",value:e.map_loaded,expression:"map_loaded"}],attrs:{xs:6,sm:6,lg:6}},[a("div",{staticClass:"map-tip"},[a("input",{attrs:{autocomplete:"off",type:"text",id:"map_keyword"+e._uid,onfocus:"this.value = ''",placeholder:"搜索"}}),a("a",{attrs:{href:"javascript:;",onclick:"$(this).parents('.map-tip').find('input').focus()"}},[a("sIcon",{attrs:{type:"ios-close-circle",size:"14",color:"#999999"}})],1)]),a("div",{staticStyle:{display:"none"},attrs:{id:"result_panel"}})])],1),a("div",{staticClass:"gc-map__area"},[a("mLoading",{staticStyle:{height:"400px"},attrs:{visible:e.map_loaded?"":"loading"}}),a("div",{staticClass:"mapContainer",attrs:{id:"BMap"+e._uid}})],1)],1),a("div",{staticClass:"gc-dia-foot",attrs:{slot:"footer"},slot:"footer"},[a("sButton",{staticClass:"gc-btn-no",attrs:{size:"large",type:"text"},on:{click:function(t){e.currentValue.open=!1}}},[e._v("取消")]),a("sButton",{staticClass:"gc-btn-text gc-btn-yes",attrs:{size:"large",type:"text"},on:{click:e.handleOk}},[e._v("确认")])],1)])],1)},c=[],u=a("4cc6");function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v={data:function(){return{map:null,geocoder:null,map_point:"",map_address:"",map_getAddress:void 0,map_loaded:!1}},props:{title:{type:String,default:""},value:Object},model:{prop:"value",event:"change"},computed:{currentValue:{get:function(){return this.value||{}},set:function(e){this.$emit("change",e)}}},methods:{handleOk:function(){var e=this,t={open:!1,point:e.map_point,address:e.map_address};this.$emit("change",t)},handleOpen:function(e){var t=this;e&&(this.map_loaded=!1,Object(u["BMapLib"])("c939d01cf713a7826caf8421b9be8c81").then((function(){t.map_init()})))},map_init:function(){var e=this;e.map=new BMap.Map("BMap"+e._uid,{enableAutoResize:!0,minZoom:10,maxZoom:32,enableMapClick:!1}),e.map.clearOverlays();var t=e.currentValue.point?new BMap.Point(e.currentValue.point[0],e.currentValue.point[1]):new BMap.Point(104.071187,30.554069);e.map_point=e.currentValue.point||[t.lng,t.lat],e.map.addControl(new BMap.NavigationControl),e.map.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_RIGHT,type:BMAP_NAVIGATION_CONTROL_SMALL})),e.map.centerAndZoom(t,15),e.map.enableScrollWheelZoom(!0),e.map.enableContinuousZoom(),e.map_loaded=!0,e.map_marker=new BMap.Marker(t,{raiseOnDrag:!0,enableClicking:!0}),e.map.addOverlay(e.map_marker);var a=new BMap.Autocomplete({input:"map_keyword"+e._uid,location:e.map});e.geocoder=new BMap.Geocoder,e.map.addEventListener("click",(function(t){e.geocoder.getLocation(t.point,(function(t){e.map_address=t.address,e.map_point=[t.point.lng,t.point.lat];new BMap.Point(t.point.lat,t.point.lng);e.map_marker.setPosition(t.point),e.map_getAddress=function(t){e.map_point&&setTimeout((function(){e.map.panTo(e.map_point),e.map.panBy(0,50)}),t||300)}}))}));var d="",c=new BMap.LocalSearch(e.map,{onSearchComplete:function(t){var a=c.getResults().getPoi(0).point;e.map.centerAndZoom(a,16),e.map.addOverlay(new BMap.Marker(a))}});a.addEventListener("onhighlight",(function(e){var t="",a=e.fromitem.value,n="";e.fromitem.index>-1&&(n=a.province+a.city+a.district+a.street+a.business),t="FromItem<br />index = "+e.fromitem.index+"<br />value = "+n,n="",e.toitem.index>-1&&(a=e.toitem.value,n=a.province+a.city+a.district+a.street+a.business),t+="<br />ToItem<br />index = "+e.toitem.index+"<br />value = "+n,document.getElementById("result_panel").innerHTML=t})),a.addEventListener("onconfirm",(function(t){var a=t.item.value;d=a.province+a.city+a.district+a.street+a.business,document.getElementById("result_panel").innerHTML="onconfirm<br />index = "+t.item.index+"<br />myValue = "+d,e.map.clearOverlays(),c.search(d),console.log(""(l||(l=m([""])))(p||(p=m([""])))(s||(s=m([""])))(r||(r=m([""])))(o||(o=m([""])))(i||(i=m([""])))(n||(n=m(["onconfirm"]))),t)}))}}},f=v,g=(a("1f05"),a("89180"),a("2877")),h=Object(g["a"])(f,d,c,!1,null,"d091d108",null);t["default"]=h.exports},f6cc:function(e,t,a){var n=a("7fbf");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("0456825e",n,!0,{sourceMap:!1,shadowMode:!1})}}]);