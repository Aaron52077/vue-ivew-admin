(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["g-Map-AMap"],{"0130":function(a,e,t){var o=t("bf4a");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var n=t("499e").default;n("063ca538",o,!0,{sourceMap:!1,shadowMode:!1})},"543d":function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:a.currentValue.open,expression:"currentValue.open"}]},[t("sModal",{staticClass:"gc-dia-main",attrs:{width:"1000",transfer:""},on:{"on-visible-change":a.handleOpen},model:{value:a.currentValue.open,callback:function(e){a.$set(a.currentValue,"open",e)},expression:"currentValue.open"}},[t("div",{staticClass:"gc-dia-title",attrs:{slot:"header"},slot:"header"},[a._v(a._s(a.title||"位置"))]),t("div",{staticClass:"gc-dia-body"},[t("sRow",{staticClass:"gc-block__row",attrs:{gutter:16}},[t("sCol",{attrs:{xs:18,sm:18,lg:18}},[a._v("\n                    当前位置："+a._s(a.map_address||"-")+"\n                ")]),t("sCol",{directives:[{name:"show",rawName:"v-show",value:a.map_loaded,expression:"map_loaded"}],attrs:{xs:6,sm:6,lg:6}},[t("div",{directives:[{name:"show",rawName:"v-show",value:a.map_loaded,expression:"map_loaded"}],staticClass:"map-tip"},[t("input",{attrs:{autocomplete:"off",type:"text",id:"map_keyword"+a._uid,onfocus:"this.value = ''",placeholder:"搜索"}}),t("a",{attrs:{href:"javascript:;",onclick:"$(this).parents('.map-tip').find('input').focus()"}},[t("sIcon",{attrs:{type:"ios-close-circle",size:"14",color:"#999999"}})],1)])])],1),t("div",{staticClass:"gc-map__area"},[t("mLoading",{staticStyle:{height:"400px"},attrs:{visible:a.map_loaded?"":"loading"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:a.map_loaded,expression:"map_loaded"}],staticClass:"mapContainer",attrs:{id:"AMap"+a._uid}})],1)],1),t("div",{staticClass:"gc-dia-foot",attrs:{slot:"footer"},slot:"footer"},[t("sButton",{staticClass:"gc-btn-no",attrs:{size:"large",type:"text"},on:{click:function(e){a.currentValue.open=!1}}},[a._v("取消")]),t("sButton",{staticClass:"gc-btn-text gc-btn-yes",attrs:{size:"large",type:"text"},on:{click:a.handleOk}},[a._v("确认")])],1)])],1)},n=[],i=t("4cc6"),p={data:function(){return{map:null,map_point:"",map_address:"",map_getAddress:void 0,map_loaded:!1}},props:{title:{type:String,default:""},value:Object},model:{prop:"value",event:"change"},computed:{currentValue:{get:function(){return this.value||{}},set:function(a){this.$emit("change",a)}}},methods:{handleOk:function(){var a=this,e={open:!1,point:a.map_point,address:a.map_address};this.$emit("change",e)},handleOpen:function(a){var e=this;a&&(this.map_loaded=!1,Object(i["AMapLib"])("c939d01cf713a7826caf8421b9be8c81").then((function(){e.map_init()})))},map_init:function(){var a=this,e=a.currentValue.point?new AMap.LngLat(a.currentValue.point[0],a.currentValue.point[1]):new AMap.LngLat(104.06498,30.54762);a.map_point=a.currentValue.point||[e.lng,e.lat],a.map=new AMap.Map("AMap"+a._uid,{resizeEnable:!0,center:e,zoom:15,keyboardEnable:!1}),a.map_marker=new AMap.Marker({map:a.map,bubble:!0,offset:new AMap.Pixel(-9,-9),draggable:!0,clickable:!0,content:"<span class='map_point'></span>"}),a.map.on("click",(function(e){a.map_point=[e.lnglat.lng,e.lnglat.lat],a.map_marker.setPosition(a.map_point),a.map_getAddress()})),a.map_marker.on("dragging",(function(e){a.map_point=[e.lnglat.lng,e.lnglat.lat]})),a.map_marker.on("dragend",(function(e){a.map_point=[e.lnglat.lng,e.lnglat.lat],a.map_getAddress()})),a.map.on("complete",(function(e){$(".map-tip input").val(""),a.map_marker&&a.map_marker.setPosition(a.map_point),a.map_getAddress(50),setTimeout((function(){a.map_loaded=!0}),300)})),AMap.plugin(["AMap.Autocomplete","AMap.PlaceSearch"],(function(){var e={city:"成都",input:"map_keyword"+a._uid},t=new AMap.Autocomplete(e);AMap.event.addListener(t,"select",(function(e){e.poi.location&&(a.map_point=[e.poi.location.lng,e.poi.location.lat],a.map_marker.setPosition(a.map_point),a.map_getAddress())}))})),AMap.plugin("AMap.Geocoder",(function(){var e=new AMap.Geocoder({city:""});a.map_getAddress=function(t){a.map_point&&(setTimeout((function(){a.map.panTo(a.map_point),a.map.panBy(0,50)}),t||300),e.getAddress(a.map_point,(function(e,t){"complete"==e&&(a.map_address=t.regeocode.formattedAddress)})))}}))}}},s=p,r=(t("ea5c"),t("8629"),t("2877")),l=Object(r["a"])(s,o,n,!1,null,"9596171e",null);e["default"]=l.exports},"7aac3":function(a,e,t){e=a.exports=t("2350")(!1),e.push([a.i,".mapContainer{width:100%;height:400px}.mapContainer .map_point{display:inline-block;width:18px;height:18px;background:#24c875;border-radius:50%;-webkit-box-shadow:#000 0 0 3px;box-shadow:0 0 3px #000;border:3px solid #fff}.amap-logo,body .amap-copyright{display:none!important}",""])},8629:function(a,e,t){"use strict";t("0130")},bf4a:function(a,e,t){e=a.exports=t("2350")(!1),e.push([a.i,".gc-map__area[data-v-9596171e]{position:relative}.gc-block__row[data-v-9596171e]{margin:0 0 10px}.map-tip[data-v-9596171e]{position:relative;color:#333;border-radius:3px;border:1px solid #eee;-webkit-box-shadow:1px 2px 4px 0 #eee;box-shadow:1px 2px 4px 0 #eee}.map-tip a[data-v-9596171e]{display:inline-block;position:absolute;border-radius:0 3px 3px 0;right:5px;top:1px;width:28px;text-align:center;line-height:28px;height:28px}.map-tip input[type=text][data-v-9596171e]{height:30px;border:0;padding-left:12px;width:100%;border-radius:3px;outline:none}",""])},ea5c:function(a,e,t){"use strict";t("eb3e")},eb3e:function(a,e,t){var o=t("7aac3");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);var n=t("499e").default;n("44682c93",o,!0,{sourceMap:!1,shadowMode:!1})}}]);